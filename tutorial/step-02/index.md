---
title: Shells and Routing
template: doc.hbs
url: /docs/tutorial/step-02/
---
# Step 02 - Shells and Routing

Now that we have our example site up and running, we can get started on building out the TodoMVC application in Juno. In this step of the tutorial, we are going to cover two key concepts when using the Juno framework **shells** and **routing**.

In the `juno-tutorial` directory, run the following command: 

```bash
$ git checkout -f step-02
```

To view the diff. from the previous step, [click here.](http://stash.nikedev.com/projects/JUNO/repos/juno-tutorial/compare/diff?targetBranch=refs%2Fheads%2Fstep-01&sourceBranch=refs%2Fheads%2Fstep-02)

<visual><break></break></visual>

## Directory Structure

Before we get started with shells and routing, let's first take a look at where we will be working on the filesystem. The `juno-tutorial` app is generated by the Juno CLI.  his provides us with a boilerplate Juno site on top of which we can develop our own site however we choose. We will be doing most of our work inside of the `site` directory. Let's take a look at how it's laid out: 

```bash
|-- site
    |-- view
        |-- router.js
        |-- todo
        |   |-- components
        |       |-- todolist
        |       |   |-- TodoList.dust
        |       |   |-- TodoList.js
        |       |   |-- TodoList.styl
        |-- shell
            |-- Shell.dust
            |-- Shell.js
            |-- Shell.styl
```

All of the files that we'll be working on in this tutorial exist under the `site` directory. The important things to notice here are: 

+ Components are made up of three files: 
    * Dust templates
    * Stylus stylesheet
    * JavaScript for functionality
+ The shell is just another component with some additional functionality
+ The `router.js` file is used to map routes to components. 

<visual><break></break></visual>

## The Shell 

The shell is an important concept to understand when building a site in Juno. In order to understand how the shell is used, let's take a look at the shell markup in its `.dust` file. 

### Shell.dust
```html
<!doctype html>
<html>
   <head>
     <title>Juno Tutorial - TodoMVC</title>
     {@shellHead /}
   </head>
   <body>

     <div class="ncss-container" juno-content>
       {@RoutedComponent /}
     </div>

     {^juno.config.production}
       <script src="//localhost:35729/livereload.js"></script>
     {/juno.config.production}
   </body>
</html>
```

In this example, the shell contains the `<head>` section and the `<body>` section, inside of which we have references to other components. 

We generally think of the shell as consisting of the base HTML tags, and a header/footer if your site requires one. In our case, we don't need a header or footer so we deleted those components from the shell. 

You'll notice on **line 5** we have a Dust helper `{@shellHead /}`. This is provided to us by the Juno framework. It automatically injects our vendor dependencies and Juno core scripts into our shell, so we don't have to worry about managing them. Also take note of **lines 9-11**, we'll be talking about this in the next section. 

<visual><break></break></visual>

## The Router 

Another important file to consider when building a site using Juno is the `router.js` file. Let's take a look at its contents. 

### router.js
```javascript
juno.registerRoutes({
  routes: [
    {pattern: '/', component: 'view/todo/components/todolist/TodoList'}
  ]
});
```

In our router file, we make a call to the `juno.registerRoutes` method, passing it an object with an array of routes. The route object contains a `pattern` to match in the incoming URL and a `component` to route to when a URL is hit that matches the pattern. Internally, we refer to this component as a `routedComponent`. 

Take a look again at **line 10** in our `Shell.dust` file from the previous section (above). Notice anything? We have a Dust helper, `{@RoutedComponent /}` which provides a reference to the `routedComponent` for us. This isn't magic! When a route is hit, Juno provides a reference to the `routedComponent` to the Dust context in our shell and the Dust helper places the reference into our shell. 

In the case above, the `{@RoutedComponent /}` helper expands to `{@ViewComponent is="view/todo/components/todolist/TodoList" /}`.
<visual><break></break></visual>

## Next Steps
In this step, we gave a high-level overview of shells and routes in Juno. If you'd like a deeper understanding of either of these topics, head on over to [Shells and Routed Components](/docs/router/shells-routed-components) for a more in-depth explanation of shells, routes, and `routedComponents`!

Now that we have our shell set up, we're ready to start building the functional parts of our app in Juno! Check out [step 3](/docs/tutorial/step-03/).














